"use strict";(self.webpackChunkdamned_docs=self.webpackChunkdamned_docs||[]).push([[9901],{7155:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"Getting Started/discover","title":"Discover","description":"The /discover endpoint allows a pilgrim to discover the cache at their current location. Discovering the cache will add them to the VisitedBy list, mark them as the discoverer if no one else has discovered it, and award any items contained in the cache to the pilgrim.","source":"@site/docs/Getting Started/discover.md","sourceDirName":"Getting Started","slug":"/Getting Started/discover","permalink":"/docs/Getting Started/discover","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Discover","sidebar_position":4},"sidebar":"sidebar","previous":{"title":"Send Pilgrim","permalink":"/docs/Getting Started/send"},"next":{"title":"Pray","permalink":"/docs/Getting Started/pray"}}');var t=n(4848),s=n(8453);const d={title:"Discover",sidebar_position:4},c="Discover Cache",l={},h=[{value:"Endpoint",id:"endpoint",level:2},{value:"Path Parameters",id:"path-parameters",level:3},{value:"Request Example",id:"request-example",level:2},{value:"Response",id:"response",level:2},{value:"Pilgrim Object",id:"pilgrim-object",level:3},{value:"Item Object",id:"item-object",level:3},{value:"Example Response",id:"example-response",level:3},{value:"Error Responses",id:"error-responses",level:2},{value:"Usage Notes",id:"usage-notes",level:2}];function o(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"discover-cache",children:"Discover Cache"})}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"/discover"})," endpoint allows a pilgrim to discover the cache at their current location. Discovering the cache will add them to the ",(0,t.jsx)(i.code,{children:"VisitedBy"})," list, mark them as the discoverer if no one else has discovered it, and award any items contained in the cache to the pilgrim."]}),"\n",(0,t.jsx)(i.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"POST"})," ",(0,t.jsx)(i.code,{children:"/pilgrims/:id/discover"})]}),"\n",(0,t.jsx)(i.h3,{id:"path-parameters",children:"Path Parameters"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"id"}),": The unique identifier of the pilgrim attempting the discovery."]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"request-example",children:"Request Example"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-http",children:"POST /pilgrims/examplePilgrimId/discover\n"})}),"\n",(0,t.jsx)(i.h2,{id:"response",children:"Response"}),"\n",(0,t.jsxs)(i.p,{children:["The response contains the updated ",(0,t.jsx)(i.code,{children:"Pilgrim"})," object after the discovery process, with any new items added to their inventory."]}),"\n",(0,t.jsx)(i.h3,{id:"pilgrim-object",children:"Pilgrim Object"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"id"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"string"})}),(0,t.jsx)(i.td,{children:"The unique identifier of the pilgrim."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"name"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"string"})}),(0,t.jsx)(i.td,{children:"The name of the pilgrim."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"faith"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"int"})}),(0,t.jsx)(i.td,{children:"The faith value associated with the pilgrim."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"trainedBy"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"string"})}),(0,t.jsx)(i.td,{children:"The user or entity that trained this pilgrim."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"colonyId"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"string"})}),(0,t.jsx)(i.td,{children:"The ID of the colony the pilgrim belongs to."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"travel"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"object"})}),(0,t.jsx)(i.td,{children:"Travel information, including destination and status."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"inventory"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"array"})}),(0,t.jsxs)(i.td,{children:["Array of ",(0,t.jsx)(i.code,{children:"Item"})," objects that the pilgrim possesses."]})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:"item-object",children:"Item Object"}),"\n",(0,t.jsxs)(i.p,{children:["Each item in the ",(0,t.jsx)(i.code,{children:"inventory"})," has the following structure:"]}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Field"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"id"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"string"})}),(0,t.jsx)(i.td,{children:"The unique identifier of the item."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"name"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"string"})}),(0,t.jsx)(i.td,{children:"The name of the item."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"type"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"string"})}),(0,t.jsx)(i.td,{children:"The type or category of the item."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"faithValue"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"int"})}),(0,t.jsx)(i.td,{children:"The faith value associated with the item."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"rarity"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"int"})}),(0,t.jsx)(i.td,{children:"Rarity scale of the item (lower values are rarer)."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"quantity"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"int"})}),(0,t.jsx)(i.td,{children:"The quantity of this item owned by the pilgrim."})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:"example-response",children:"Example Response"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",children:'{\r\n  "status": "success",\r\n  "message": "discovered cache with pilgrim",\r\n  "data": {\r\n    "id": "examplePilgrimId",\r\n    "name": "Ava the Bold",\r\n    "faith": 100,\r\n    "trainedBy": "exampleUserId",\r\n    "colonyId": "exampleColonyId",\r\n    "travel": {\r\n      "status": "ARRIVED",\r\n      "destination": {\r\n        "x": 10,\r\n        "y": 15\r\n      },\r\n      "origin": {\r\n        "x": 9,\r\n        "y": 14\r\n      },\r\n      "timeOfArrival": "2024-11-05T12:34:56Z",\r\n      "survivalRating": 0.75\r\n    },\r\n    "inventory": [\r\n      {\r\n        "id": "item1",\r\n        "name": "Ancient Relic",\r\n        "type": "Relic",\r\n        "faithValue": 50,\r\n        "rarity": 100,\r\n        "quantity": 1\r\n      },\r\n      {\r\n        "id": "item2",\r\n        "name": "Mystic Gemstone",\r\n        "type": "Gem",\r\n        "faithValue": 20,\r\n        "rarity": 500,\r\n        "quantity": 3\r\n      }\r\n    ]\r\n  }\r\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"error-responses",children:"Error Responses"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"409 Conflict"}),": Returned if the pilgrim is either deceased or already en route to another location."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",children:'{\r\n  "status": "error",\r\n  "message": "pilgrim can\'t be utilised while deceased",\r\n  "data": {\r\n    "statusCode": 409,\r\n    "message": "pilgrim can\'t be utilised while deceased"\r\n  }\r\n}\n'})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"400 Bad Request"}),": Returned if there's an error during the discovery process."]}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-json",children:'{\r\n  "status": "error",\r\n  "message": "failed to discover cache with pilgrim",\r\n  "data": {\r\n    "statusCode": 400,\r\n    "message": "Error details here"\r\n  }\r\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"usage-notes",children:"Usage Notes"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Discover Cache"}),": Pilgrim must be at the destination and not in transit to discover the cache."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"VisitedBy and DiscoveredBy"}),": The pilgrim will be added to the ",(0,t.jsx)(i.code,{children:"VisitedBy"})," list, and marked as the ",(0,t.jsx)(i.code,{children:"DiscoveredBy"})," if no other pilgrim has claimed it."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Inventory Update"}),": Any items found within the cache will be added to the pilgrim's inventory."]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"/discover"})," endpoint allows players to claim unique caches in the game world, enhancing their inventory and contributing to their overall strength in the game."]})]})}function a(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>d,x:()=>c});var r=n(6540);const t={},s=r.createContext(t);function d(e){const i=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);